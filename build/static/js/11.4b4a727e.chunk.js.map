{"version":3,"sources":["pages/Login.js"],"names":["Wrapper","styled","div","Title","h1","layout","labelCol","span","wrapperCol","tailLayout","offset","Component","history","useHistory","AuthStore","useStores","Validators","username","rule","value","test","Promise","reject","length","resolve","name","onFinish","values","console","log","setUsername","setPassword","password","login","then","push","catch","err","onFinishFailed","errorInfo","Item","label","rules","required","message","validator","min","max","Password","type","htmlType"],"mappings":"ifAMA,IAAMA,EAAUC,IAAOC,IAAV,KAOPC,EAAQF,IAAOG,GAAV,KAILC,EAAS,CACbC,SAAU,CAACC,KAAM,GACjBC,WAAY,CAACD,KAAM,KAEfE,EAAa,CACjBD,WAAY,CAACE,OAAQ,EAAGH,KAAM,KA0EjBI,UAvEG,WAChB,IAAMC,EAAUC,cACTC,EAAaC,cAAbD,UAqBDE,EAAa,CACjBC,SADiB,SACRC,EAAKC,GACZ,MAAI,KAAKC,KAAKD,GAAeE,QAAQC,OAAO,8FACxCH,EAAMI,OAAO,GAAKJ,EAAMI,OAAQ,GAAWF,QAAQC,OAAO,4CACtDD,QAAQG,YAIpB,OACE,kBAACxB,EAAD,KACE,kBAACG,EAAD,qBACA,kBAAC,IAAD,iBACME,EADN,CAEEoB,KAAK,QACLC,SAlCW,SAAAC,GACfC,QAAQC,IAAI,WAAYF,GACxBb,EAAUgB,YAAYH,EAAOV,UAC7BH,EAAUiB,YAAYJ,EAAOK,UAC7BlB,EAAUmB,QACPC,MAAK,WACJN,QAAQC,IAAI,gEACZjB,EAAQuB,KAAK,QAEdC,OAAM,SAACC,GACNT,QAAQC,IAAI,4BACZD,QAAQC,IAAIQ,OAwBZC,eAnBiB,SAAAC,GACrBX,QAAQC,IAAI,UAAWU,MAoBnB,kBAAC,IAAKC,KAAN,CACEC,MAAM,qBACNhB,KAAK,WACLiB,MAAO,CAAC,CAACC,UAAU,EAAMC,QAAS,kCAAS,CAACC,UAAU7B,EAAWC,YAEjE,kBAAC,IAAD,OAGF,kBAAC,IAAKuB,KAAN,CACEC,MAAM,2BACNhB,KAAK,WACLiB,MAAO,CACL,CAACC,UAAU,EAAMC,QAAS,4BAC1B,CAACE,IAAI,EAAEF,QAAQ,mCACf,CAACG,IAAI,GAAGH,QAAQ,sCAIlB,kBAAC,IAAMI,SAAP,OAIF,kBAAC,IAAKR,KAAS/B,EACb,kBAAC,IAAD,CAAQwC,KAAK,UAAUC,SAAS,UAAhC","file":"static/js/11.4b4a727e.chunk.js","sourcesContent":["import {Form, Input, Button} from 'antd';\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport {useStores} from \"../stores\";\nimport {useHistory} from 'react-router-dom'\n\nconst Wrapper = styled.div`\nmax-width:600px;\nmargin:30px auto;\nbox-shadow: 2px 2px 4px 0 rgba(0,0,0,0.2);\nborder-radius:4px;\npadding:20px;\n`\nconst Title = styled.h1`\ntext-align:center;\nmargin-bottom:30px;\n`\nconst layout = {\n  labelCol: {span: 4},\n  wrapperCol: {span: 20},\n};\nconst tailLayout = {\n  wrapperCol: {offset: 4, span: 20},\n};\n\nconst Component = () => {\n  const history = useHistory()\n  const {AuthStore} = useStores()\n  const onFinish = values => {\n    console.log('Success:', values);\n    AuthStore.setUsername(values.username)\n    AuthStore.setPassword(values.password)\n    AuthStore.login()\n      .then(()=>{\n        console.log('登录成功，跳转到首页')\n        history.push('/')\n      })\n      .catch((err)=>{\n        console.log('登录失败')\n        console.log(err)\n      })\n  };\n\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  const Validators = {\n    username(rule,value){\n      if (/\\W/.test(value)) return Promise.reject('不能出现字母数字下划线以外字符');\n      if (value.length<4 || value.length >10) return Promise.reject('长度为4~10个字符');\n      return  Promise.resolve();\n    }\n  }\n\n  return (\n    <Wrapper>\n      <Title>登录</Title>\n      <Form\n        {...layout}\n        name=\"basic\"\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n      >\n        <Form.Item\n          label=\"用户名\"\n          name=\"username\"\n          rules={[{required: true, message: '输入用户名'},{validator:Validators.username}]}\n        >\n          <Input/>\n        </Form.Item>\n\n        <Form.Item\n          label=\"输入密码\"\n          name=\"password\"\n          rules={[\n            {required: true, message: '输入密码'},\n            {min:4,message:'最少4个字符'},\n            {max:16,message:'最多16个字符'}\n\n          ]}\n        >\n          <Input.Password/>\n        </Form.Item>\n\n\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            提交\n          </Button>\n        </Form.Item>\n      </Form>\n    </Wrapper>\n  );\n};\nexport default Component\n\n"],"sourceRoot":""}