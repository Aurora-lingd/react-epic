(this["webpackJsonpreact-epic"]=this["webpackJsonpreact-epic"]||[]).push([[10],{312:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(72),u=n(70),i=n(31),c=n(9),o=n(309),s=n(134),d=n(203),g=n(311),p=n(32);function m(){var e=Object(i.a)(["\noutline: none;\nborder-radius: 4px;\nmargin-right:10px;\nborder:1px solid #333;\n"]);return m=function(){return e},e}function h(){var e=Object(i.a)(["\nmax-width:300px;\n"]);return h=function(){return e},e}function f(){var e=Object(i.a)(["\nmargin:20px 0;\ntext-align:center;\n"]);return f=function(){return e},e}function b(){var e=Object(i.a)(["\nmargin-top:30px;\nborder:1px solid #333;\npadding:20px;\n"]);return b=function(){return e},e}var E=o.a.Dragger,v=p.a.div(b()),j=p.a.h1(f()),x=p.a.img(h()),w=p.a.input(m()),O=Object(l.a)((function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(u.a)(),l=n.ImageStore,i=n.UserStore,o=Object(c.d)((function(){return{width:null,get widthStr(){return o.width?"/w/".concat(o.width):""},setWidth:function(e){o.width=e},height:null,get heightStr(){return o.height?"/h/".concat(o.height):""},setHeight:function(e){o.height=e},get fullStr(){return l.serverFile.attributes.url.attributes.url+"?imageView2/0"+o.widthStr+o.heightStr}}})),p={showUploadList:!1,beforeUpload:function(e){return console.log(e),l.setFil(e),l.setFilename(e.name),null===i.currentUser?(s.b.warning("\u8bf7\u5148\u767b\u5f55\uff0c\u5728\u4e0a\u4f20\u56fe\u7247\uff01"),!1):(window.file=e,/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/gi.test(e.type)?e.size>1048576?(s.b.error("\u56fe\u7247\u6700\u59271M"),!1):(l.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(e){console.log(e),console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(s.b.error("\u53ea\u80fd\u4e0a\u4f20png/svg/jpg/gif\u683c\u5f0f\u56fe\u7247"),!1))}};return a.a.createElement("div",null,a.a.createElement(d.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:l.isUploading},a.a.createElement(E,p,a.a.createElement("p",{className:"ant-upload-drag-icon"},a.a.createElement(g.a,null)),a.a.createElement("p",{className:"ant-upload-text"},"\u70b9\u51fb\u6216\u62d6\u62fd\u5373\u53ef\u4e0a\u4f20\u56fe\u7247"),a.a.createElement("p",{className:"ant-upload-hint"},"\u4ec5\u652f\u6301 png/gif/jpg/svg/jpeg \u683c\u5f0f\u7684\u56fe\u7247\uff0c\u56fe\u7247\u6700\u5927\u4e3a1M"))),l.serverFile?a.a.createElement(v,null,a.a.createElement(j,null,"\u4e0a\u4f20\u7ed3\u679c"),a.a.createElement("dl",null,a.a.createElement("dt",null,"\u7ebf\u4e0a\u94fe\u63a5"),a.a.createElement("dd",null,a.a.createElement("a",{target:"_blank",href:l.serverFile.attributes.url.attributes.url},l.serverFile.attributes.url.attributes.url)),a.a.createElement("dt",null,"\u6587\u4ef6\u540d"),a.a.createElement("dd",null,l.filename),a.a.createElement("dt",null,"\u56fe\u7247\u9884\u89c8"),a.a.createElement("dd",null,a.a.createElement(x,{src:l.serverFile.attributes.url.attributes.url,alt:""})),a.a.createElement("dt",null,"\u66f4\u591a\u5c3a\u5bf8"),a.a.createElement("dd",null,a.a.createElement(w,{ref:e,onChange:function(){o.setWidth(e.current.value)},type:"text",placeholder:"\u6700\u5927\u5bbd\u5ea6\uff08\u53ef\u9009\uff09"}),a.a.createElement(w,{ref:t,onChange:function(){o.setHeight(t.current.value)},type:"text",placeholder:"\u6700\u5927\u9ad8\u5ea6\uff08\u53ef\u9009\uff09"})),a.a.createElement("dd",null,a.a.createElement("a",{href:o.fullStr,target:"_blank"},o.fullStr)))):null)}));function S(){var e=Object(i.a)(["\nbackground:#bbd196;\npadding:10px;\nmargin:30px 0 ;\nborder-radius:4px;\n"]);return S=function(){return e},e}var F=p.a.div(S()),U=Object(l.a)((function(e){var t=e.children;return a.a.createElement(F,null,t)})),k=Object(l.a)((function(){var e=Object(u.a)().UserStore;return a.a.createElement(a.a.Fragment,null,e.currentUser?null:a.a.createElement(U,null,"\u8bf7\u5148\u767b\u5f55\u5728\u4e0a\u4f20"),a.a.createElement(O,null))}));t.default=k}}]);
//# sourceMappingURL=10.d68ff34c.chunk.js.map